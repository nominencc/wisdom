<template>
  <div id="main8" style="width:550px;height: 300px;" @click="handle" @mousedown="show"></div>
</template>

<script>
// import * as THREE from 'three'
import * as echarts from 'echarts'
// import {Snow} from '../../effect/snow'

// import farm from '../../views/farm/WisdomFarm.vue'
export default {
  name: 'ECharts8',
  data() {
    return {
      option: {
        // title: {
        //   text: 'ECharts 入门示例2',
        //   left:"center",
        //   textStyle: {
        //     color: "#fff",
        //     fontSize:15
        //   }
        // } ,
        tooltip: {},  //实时显示被拖拽的点的data值的变化
        //自定义按钮
        toolbox:{
          show:true,
          left:100,
          itemSize:20,
          feature:{
            myWater:{
              show:true,
              title:'浇水',
              icon:'path://M280.983509 203.986881c6.467295-10.232039 12.936637-19.422352 18.345834-29.199019C326.937121 124.888382 367.401718 90.462315 422.066735 73.896011 538.384927 38.646182 658.840346 111.522979 683.94921 231.56089c11.251252 53.788044 2.429329 104.595196-25.216311 152.192238-6.055926 10.42749-11.095709 21.444405-16.960277 32.885991 47.14781 17.945721 93.808526 35.706223 141.123135 53.715389 6.285147-23.335475 12.489452-46.369074 18.790972-69.765947 10.450003 2.803859 20.414959 5.477758 30.879288 8.28571-16.59905 61.945841-33.098839 123.523291-49.744961 185.647187-10.344602-2.753717-20.300348-5.405103-30.884404-8.222265 5.495154-20.640086 10.899234-40.937364 16.464997-61.844533-14.065344 0.871857-27.478841 1.677199-40.889269 2.540869-34.706453 2.237971-69.410859 4.511757-104.117312 6.749728-11.909238 0.76748-23.815405 1.633197-35.737946 2.105964-3.574409 0.14224-4.520967 2.332115-5.714142 4.795213-26.276457 54.251601-52.564169 108.498086-78.845743 162.747641-9.725502 20.075221-19.435655 40.156582-29.163203 60.23078-0.734734 1.515516-1.550309 2.992147-2.682086 5.16565C335.772346 689.446411 200.49229 610.218976 64.88273 530.798135c15.567557-23.583115 30.843472-46.725184 46.252417-70.067822-16.305361-7.232728-19.539009-22.335704-22.425755-37.239136-4.576225-23.629163-3.857864-47.539736-1.960655-71.374584 2.955308-37.120432 9.402137-73.615625 20.198018-109.326964 9.17087-30.337959 24.665773-56.389288 50.031487-75.973322 15.274892-11.793604 32.276101-19.35686 51.668777-21.518083 27.770484-3.094478 54.244438 12.744255 65.956178 40.177048C276.988522 191.063547 278.597159 196.98542 280.983509 203.986881zM616.414071 402.071332c-103.722316-60.747549-207.141734-121.318066-310.889633-182.079942-8.390088 12.406564-16.615423 24.294312-24.509207 36.397978-2.65855 4.076852-4.589528 8.650007-6.647397 13.09218-3.572362 7.712659-6.450922 15.808034-10.680247 23.130813-2.220574 3.844561-6.265704 7.243985-10.284227 9.235338-2.859118 1.416256-5.063319 2.716878-6.826476 5.331425-46.974871 69.660546-93.997837 139.287323-141.008524 208.92331-0.928139 1.375324-1.791809 2.794649-2.929726 4.574179 119.603005 70.048379 238.888785 139.91154 358.617657 210.033597C513.075495 620.952434 564.65729 511.697101 616.414071 402.071332zM630.351502 377.998053c37.572734-62.917982 43.228547-127.513162 7.290033-191.585433-37.685297-67.186192-97.460706-99.101065-174.467567-92.096535-66.230424 6.024204-113.009843 42.947138-143.94746 101.467973C423.068552 256.600169 526.495132 317.172733 630.351502 377.998053zM125.673258 438.494892c0.63445-0.88823 1.345648-1.819438 1.990331-2.795673 41.128723-62.245669 82.257445-124.491339 123.345236-186.762591 1.00591-1.524726 1.880837-3.273557 2.279926-5.039783 2.550079-11.256368 3.192715-22.650883 0.910743-33.987069-3.485381-17.310248-11.893888-30.854728-30.067806-35.803437-11.738345-3.196809-23.085788-0.867764-33.731242 4.362354-26.844392 13.190417-43.809785 35.072797-53.747111 62.748113-10.332323 28.777417-16.767895 58.545394-21.48636 88.689948-3.90289 24.930809-7.066953 49.944506-5.301749 75.286684C110.770849 418.181241 112.318088 430.890704 125.673258 438.494892zM779.208784 484.177328c-1.36509-0.490164-2.142803-0.819668-2.949168-1.049912-48.739051-13.945617-97.489358-27.847232-146.195663-41.905412-3.046383-0.87902-4.172019 0.066515-5.536087 2.483564-12.211113 21.647019-24.538883 43.227524-36.811394 64.839751-0.692778 1.220804-1.206478 2.542916-2.13257 4.52199 3.225461 0 5.582135-0.011256 7.937786 0.002047 36.807301 0.197498 73.614601 0.373507 110.420879 0.608867 20.958334 0.134053 41.915645 0.349971 62.872956 0.584308 2.503007 0.027629 4.516874 0.135076 5.305843-3.145643C774.268262 502.199797 776.765129 493.366617 779.208784 484.177328z',
              onclick:()=>{
                // console.log(this.waterdown)
                this.waterstart()
              },
              //图标默认颜色
              iconStyle:{
                borderColor:"#fff"
              },
              //鼠标悬停时图标的颜色
              emphasis:{
                iconStyle:{
                  borderColor:"#ffff00"
                }
              }
            },
            myStop:{
              show:true,
              title:'停止',
              icon:'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884z m288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z',
              onclick:()=>{
                this.waterstop()
              },
              //图标默认颜色
              iconStyle:{
                borderColor:"#fff"
              },
              //鼠标悬停时图标的颜色
              emphasis:{
                iconStyle:{
                  borderColor:"#ffff00"
                }
              }
            }
          }
        },
        legend: {   //图例组件
          top: '10px',
          right: '90px',
          data: ['土壤温度','土壤湿度'],
          textStyle: {
            color:'#fff',
            fontSize:15
          }
        },
        xAxis: {
          data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat','Sun'],
          axisLabel: {
            color: '#fff',
            fontSize:12
          }
        },
        yAxis: [
        {
          name:"温度：℃",
          position:"left",
          yAxisIndex:0,
          nameTextStyle:{
            color:"#fff"
          },
          axisLabel: {
            color: '#fff'
          },
          splitLine:{
          show:false
          }
        },
        {
          name:"湿度：%RH",
          position:"right",
          yAxisIndex:1,
          nameTextStyle:{
            color:"#fff"
          },
          axisLabel: {
            color: '#fff'
          },
          splitLine:{
          show:false
          }
        }, 
      ],
        //一组数值以及他们映射成的图。 type：line(折线图)、bar(柱状图)、pie(饼图)、scatter(散点图)、graph(关系图、tree(树图))
        series:
       [
        {
          yAxisIndex:0,
          name: '土壤温度',
          type: 'line',
          smooth: true,
          data: [20, 30, 15, 18, 34, 20, 25],
        },
        {
          yAxisIndex:1,
          name: '土壤湿度',
          type: 'line',
          smooth: true,
          data: [10, 15, 12, 14, 6, 8, 11],
        }
        ]

      },
      myChart: null
    }
  },
  methods: {
    init(){
      // this.scene = new THREE.Scene()
    },
    initEcharts() {
      this.myChart = echarts.init(document.getElementById('main8'));
      this.myChart.setOption(this.option);
    //   setTimeout(()=>{
      
    // },100)
      // console.log(this.myChart)
    },
    
    handle() { 
      // this.option.series.push({
      //   name: '销量1',
      //   type: 'bar',
      //   data: [5, 20, 36, 10, 10, 20]
      // })

      // console.log('option', this.option.series[0])
      // this.myChart.setOption(this.option);
    },
    show() { 
        // console.log('鼠标经过图表2')
       
    },
    waterstart(){
      this.$emit("begin3")
      //子传父。让父组件的createExtra调用：this.createExtra()

    },
    waterstop(){
      this.$emit("stop3")
    }
  },

  mounted() {
    this.initEcharts()
  }
}
</script>
<style>
#main8 {
  background-color: #08609366;
  background: linear-gradient(to left,#08609399,#344b5800);
  text-align:center;
  /* opacity: 1; */
  /* visibility: hidden; */
}
</style>
